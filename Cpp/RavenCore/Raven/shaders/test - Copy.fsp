#version 330 core

layout (location = 0) out vec4 color;

uniform vec4 incolor;
uniform vec2 light_1;
uniform vec2 light_2;

in vec4 pos;

void main()
{
	float dist_1 = length(pos.xy - light_1);
	float dist_2 = length(pos.xy - light_2);
	float lvl_1 = 1.0 / (dist_1 * dist_1) * 0.1;
	float lvl_2 = 1.0 / (dist_2 * dist_2) * 0.1;

	float lvl_t = lvl_1 * lvl_2;
	if (lvl_t < 0.05)
	{
		lvl_t = 0.0;
	}

	if (lvl_t > 0.075)
	{
		lvl_t = 0.0;
	}

	if (lvl_t > 0.0)
	{
		lvl_t = 1.0;
	}
	color = incolor * lvl_t;
}